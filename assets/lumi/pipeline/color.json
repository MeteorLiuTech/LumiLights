{
	images: [
		 {
			name: "color_depth",
			lod: 0,
			internalFormat: "R32F",
			pixelFormat: "RED",
			pixelDataType: "FLOAT",
			target: "TEXTURE_2D",
			texParams: [ 
				{name: "TEXTURE_MIN_FILTER", val: "NEAREST"}, {name: "TEXTURE_MAG_FILTER", val: "NEAREST"},
				{name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"}, {name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"},
			]
		},
		{
			name: "color_result",
			lod: 0,
			internalFormat: "RGB16F",
			pixelFormat: "RGB",
			pixelDataType: "FLOAT",
			target: "TEXTURE_2D",
			texParams: [ 
				{name: "TEXTURE_MIN_FILTER", val: "NEAREST"}, {name: "TEXTURE_MAG_FILTER", val: "NEAREST"},
				{name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"}, {name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"},
			]
		},
		{
			name: "color_others",
			lod: 0,
			depth: 2,
			internalFormat: "RGBA8",
			pixelFormat: "RGBA",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D_ARRAY",
			texParams: [ 
				{name: "TEXTURE_MIN_FILTER", val: "NEAREST"}, {name: "TEXTURE_MAG_FILTER", val: "NEAREST"},
				{name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"}, {name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"},
			]
		},
		{
			name: "color_albedo",
			lod: 0,
			internalFormat: "RGBA8",
			pixelFormat: "RGBA",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [ 
				{name: "TEXTURE_MIN_FILTER", val: "NEAREST"}, {name: "TEXTURE_MAG_FILTER", val: "NEAREST"},
				{name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"}, {name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"},
			]
		},
		{
			name: "ao_result",
			// lod: 4,
			internalFormat: "R16",
			pixelFormat: "RED",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [ 
				{name: "TEXTURE_MIN_FILTER", val: "LINEAR"}, {name: "TEXTURE_MAG_FILTER", val: "LINEAR"},
				{name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"}, {name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"},
			]
		},
		// {
		// 	name: "ao_up",
		// 	lod: 3,
		// 	internalFormat: "R16",
		// 	pixelFormat: "RED",
		// 	pixelDataType: "UNSIGNED_BYTE",
		// 	target: "TEXTURE_2D",
		// 	texParams: [ 
		// 		{name: "TEXTURE_MIN_FILTER", val: "LINEAR_MIPMAP_NEAREST"}, {name: "TEXTURE_MAG_FILTER", val: "LINEAR"},
		// 		{name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"}, {name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"},
		// 	]
		// },
		{
			name: "gbuffer_main_etc_copy",
			internalFormat: "RGB8",
			pixelFormat: "RGB",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [
				{name: "TEXTURE_MIN_FILTER", val: "NEAREST"}, {name: "TEXTURE_MAG_FILTER", val: "NEAREST"},
				{name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"}, {name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"}
			]
		}, 
	],

	programs: [
		{
			name: "color",
			vertexSource: "lumi:shaders/pass/shading.vert",
			fragmentSource: "lumi:shaders/pass/color.frag",
			samplers: [
				"u_vanilla_color",
				"u_vanilla_depth",
				"u_weather_color",
				"u_weather_depth",
				"u_vanilla_clouds_depth",

				"u_translucent_depth",
				"u_particles_depth",

				"u_gbuffer_trans",
				"u_gbuffer_main_etc",
				"u_gbuffer_lightnormal",
				"u_gbuffer_shadow",

				"u_tex_sun",
				"u_tex_moon",
				"u_tex_nature",
				"u_tex_glint",
				"u_tex_noise",
			]
		},
		{
			name: "hand",
			vertexSource: "lumi:shaders/pass/shading.vert",
			fragmentSource: "lumi:shaders/pass/hand.frag",
			samplers: [
				"u_vanilla_color",
				"u_vanilla_depth",

				"u_gbuffer_main_etc",
				"u_gbuffer_lightnormal",

				"u_tex_sun",
				"u_tex_moon",
				"u_tex_nature",
				"u_tex_glint",
				"u_tex_noise",
			]
		},
		{
			name: "ao",
			vertexSource: "lumi:shaders/pass/ao.glsl",
			fragmentSource: "lumi:shaders/pass/ao.glsl",
			samplers: [
				"u_vanilla_depth",
				"u_gbuffer_lightnormal",
				"u_tex_noise",
			]
		},
		{
			name: "ao0",
			vertexSource: "lumi:shaders/pass/basic.vert",
			fragmentSource: "lumi:shaders/pass/ao0.frag",
			samplers: [
				"u_gbuffer_main_etc",
				// "u_ao",
			]
		},
		// {
		// 	name: "ao1",
		// 	vertexSource: "lumi:shaders/pass/basic.vert",
		// 	fragmentSource: "lumi:shaders/pass/ao1.frag",
		// 	samplers: [
		// 		"u_depth",
		// 		"u_ao",
		// 		"u_ao_up",
		// 	]
		// },
		{
			name: "ao2",
			vertexSource: "lumi:shaders/pass/basic.vert",
			fragmentSource: "lumi:shaders/pass/ao2.frag",
			samplers: [
				"u_gbuffer_main_etc_copy",
				"u_gbuffer_lightnormal",
				"u_ao",
			]
		},
	],

	framebuffers: [
		{
			name: "color",
			colorAttachments: [
				{image: "color_result"},
				{image: "color_depth"},
				{image: "color_albedo"},
				{image: "color_others", layer: 0},
				{image: "color_others", layer: 1},
			]
		},
		{
			name: "ao_result0",
			colorAttachments: [
				{image: "gbuffer_main_etc_copy"},
				// {image: "ao_result", lod: 0},
			]
		},
		{
			name: "ao_result1",
			colorAttachments: [{image: "ao_result"}],// lod: 1}]
		},
		// {
		// 	name: "ao_result2",
		// 	colorAttachments: [{image: "ao_result", lod: 2}]
		// },
		// {
		// 	name: "ao_result3",
		// 	colorAttachments: [{image: "ao_result", lod: 3}]
		// },
		// {
		// 	name: "ao_result4",
		// 	colorAttachments: [{image: "ao_result", lod: 4}]
		// },
		{
			name: "ao_final",
			colorAttachments: [{image: "gbuffer_main_etc", layer: 0}]
		},
		// {
		// 	name: "ao_up3",
		// 	colorAttachments: [{image: "ao_up", lod: 3}]
		// },
		// {
		// 	name: "ao_up2",
		// 	colorAttachments: [{image: "ao_up", lod: 2}]
		// },
		// {
		// 	name: "ao_up1",
		// 	colorAttachments: [{image: "ao_up", lod: 1}]
		// },
		// {
		// 	name: "ao_up0",
		// 	colorAttachments: [{image: "ao_up", lod: 0}]
		// },
	],

	fabulous: {
		passes: [
			{
				name: "ao",
				program: "ao",
				framebuffer: "ao_result1",
				// lod: 1,
				samplerImages: [
					"vanilla_depth",
					"gbuffer_lightnormal",
					"lumi:textures/filter_pattern/bluenoise256.png",
				]
			},
			{
				name: "ao0",
				program: "ao0",
				framebuffer: "ao_result0",
				samplerImages: [
					"gbuffer_main_etc",
					"u_gbuffer_lightnormal",
					"ao_result",
				]
			},
			// {
			// 	name: "ao_down2", framebuffer: "ao_result2", program: "ao1",
			// 	lod: 2, layer: 1, samplerImages: ["vanilla_depth", "ao_result", "ao_up"]
			// },
			// {
			// 	name: "ao_down3", framebuffer: "ao_result3", program: "ao1",
			// 	lod: 3, layer: 1, samplerImages: ["vanilla_depth", "ao_result", "ao_up"]
			// },
			// {
			// 	name: "ao_down4", framebuffer: "ao_result4", program: "ao1",
			// 	lod: 4, layer: 1, samplerImages: ["vanilla_depth", "ao_result", "ao_up"]
			// },
			{
				name: "ao_final",
				program: "ao2",
				framebuffer: "ao_final",
				samplerImages: [
					"gbuffer_main_etc_copy",
					"ao_result",
				]
			},
			{
				name: "color",
				program: "color",
				framebuffer: "color",
				samplerImages: [
					"vanilla_color",
					"vanilla_depth",
					"weather_color",
					"weather_depth",
					"clouds_depth",

					"translucent_depth",
					"particles_depth",

					"gbuffer_trans",
					"gbuffer_main_etc",
					"gbuffer_lightnormal",
					"gbuffer_shadow",

					"minecraft:textures/environment/sun.png",
					"minecraft:textures/environment/moon_phases.png",
					"lumi:textures/misc/nature.png",
					"minecraft:textures/misc/enchanted_item_glint.png",
					"lumi:textures/filter_pattern/bluenoise256.png",
				]
			},
		]
	},

	afterRenderHand: {
		passes: [
			{
				name: "hand",
				program: "hand",
				framebuffer: "swap",
				samplerImages: [
					"vanilla_color",
					"vanilla_depth",

					"gbuffer_main_etc",
					"gbuffer_lightnormal",

					"minecraft:textures/environment/sun.png",
					"minecraft:textures/environment/moon_phases.png",
					"lumi:textures/misc/nature.png",
					"minecraft:textures/misc/enchanted_item_glint.png",
					"lumi:textures/filter_pattern/bluenoise256.png",
				]
			},
		]
	}
}
